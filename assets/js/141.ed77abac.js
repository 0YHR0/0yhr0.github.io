(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{537:function(a,t,r){"use strict";r.r(t);var s=r(2),e=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"k8s-application-management"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k8s-application-management"}},[a._v("#")]),a._v(" K8s Application Management")]),a._v(" "),t("h1",{attrs:{id:"k8s应用管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k8s应用管理"}},[a._v("#")]),a._v(" K8s应用管理")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191331993.png",alt:"image-20241106191331993"}})]),a._v(" "),t("h2",{attrs:{id:"helm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#helm"}},[a._v("#")]),a._v(" Helm")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191308026.png",alt:"image-20241106191308026"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191409364.png",alt:"image-20241106191409364"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191423525.png",alt:"image-20241106191423525"}})]),a._v(" "),t("h3",{attrs:{id:"chart包示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chart包示例"}},[a._v("#")]),a._v(" Chart包示例")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191431641.png",alt:"image-20241106191431641"}})]),a._v(" "),t("ul",[t("li",[a._v("Chart.yaml: chart包的一些元数据，比如版本号，名称或者描述")]),a._v(" "),t("li",[a._v("requirements.yaml: helm可以针对chart包的一些依赖管理，比如Kafaka服务必须要zookeeper做一些消息同步")]),a._v(" "),t("li",[a._v("charts目录就会同步zookeeper包的内容")]),a._v(" "),t("li",[a._v("templates：k8s的一些资源模板，可以把中间，在不同环境有所差异的字段属性，抽象成参数，用占位符进行一些引用，这样在不同环境就可以用不同配置")]),a._v(" "),t("li",[a._v("values.schema可以对values的格式进行一些校验")])]),a._v(" "),t("h4",{attrs:{id:"chart-yaml示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chart-yaml示例"}},[a._v("#")]),a._v(" chart.yaml示例")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191441448.png",alt:"image-20241106191441448"}})]),a._v(" "),t("h4",{attrs:{id:"template-value示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#template-value示例"}},[a._v("#")]),a._v(" Template-Value示例")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191448604.png",alt:"image-20241106191448604"}}),a._v("\nchart：就是chart包概念\nconfig：一份模板+一份配置文件，就是一份config\nrelease：通过上面的config，用install等命令，做一次应用的部署，就是一次release")]),a._v(" "),t("p",[a._v("要改变参数的两种方式")]),a._v(" "),t("ul",[t("li",[a._v("一种是可以直接改配置文件")]),a._v(" "),t("li",[a._v("一种是在install命令的时候传一些参数进来")])]),a._v(" "),t("h5",{attrs:{id:"内置对象-模板里面的值可选的一些来源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内置对象-模板里面的值可选的一些来源"}},[a._v("#")]),a._v(" 内置对象（模板里面的值可选的一些来源）")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191504339.png",alt:"image-20241106191504339"}})]),a._v(" "),t("h5",{attrs:{id:"子模板-类似定义函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子模板-类似定义函数"}},[a._v("#")]),a._v(" 子模板（类似定义函数）")]),a._v(" "),t("ul",[t("li",[a._v("减少了重复编写相同代码的工作量\n"),t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191512841.png",alt:"image-20241106191512841"}})])]),a._v(" "),t("h3",{attrs:{id:"hook机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hook机制"}},[a._v("#")]),a._v(" Hook机制")]),a._v(" "),t("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/%E4%BA%91%E8%AE%A1%E7%AE%97%E4%B8%AD%20XDS-%E8%B1%86%E5%8C%85.png",alt:"云计算中 XDS-豆包"}}),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191525207.png",alt:"image-20241106191525207"}})]),a._v(" "),t("h3",{attrs:{id:"依赖管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖管理"}},[a._v("#")]),a._v(" 依赖管理")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191708132.png",alt:"image-20241106191708132"}})]),a._v(" "),t("ul",[t("li",[a._v("如果是在线环境可以像图中一样配置，但如果是离线环境，需要手动将包下下来放在charts目录中")])]),a._v(" "),t("h2",{attrs:{id:"operator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operator"}},[a._v("#")]),a._v(" Operator")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191357516.png",alt:"image-20241106191357516"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191724015.png",alt:"image-20241106191724015"}})]),a._v(" "),t("ul",[t("li",[a._v("CRD：可以自定义一些资源对象，然后k8s就能和其他资源对象一样去操作他")])]),a._v(" "),t("h3",{attrs:{id:"k8s-controller机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k8s-controller机制"}},[a._v("#")]),a._v(" K8s Controller机制")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191741623.png",alt:"image-20241106191741623"}})]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191750239.png",alt:"image-20241106191750239"}})]),a._v(" "),t("ul",[t("li",[a._v("operator就跟k8s的controller差不多，区别就是controller监控的是通用的资源对象并操作，operator监控的是CRD，并进行一些操作")])]),a._v(" "),t("h4",{attrs:{id:"redis例子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis例子"}},[a._v("#")]),a._v(" redis例子")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191806407.png",alt:"image-20241106191806407"}})]),a._v(" "),t("ul",[t("li",[t("p",[a._v("在启动的时候做一些事情，比如配置主备等")])]),a._v(" "),t("li",[t("p",[a._v("比如redis扩缩容的时候")])])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191826956.png",alt:"image-20241106191826956"}})]),a._v(" "),t("ul",[t("li",[a._v("除了基础的生命周期管理，还可以搞一些增量的功能，比如备份")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191839277.png",alt:"image-20241106191839277"}})]),a._v(" "),t("h4",{attrs:{id:"operator-framework"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operator-framework"}},[a._v("#")]),a._v(" Operator Framework")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241106191852155.png",alt:"image-20241106191852155"}})]),a._v(" "),t("p",[a._v("怎么开发operator---比如红帽提供了一种sdk，可以很快的帮你把operator框架给构建出来\n基本上是通过operator做一些有状态应用在配置改变的时候要做得一些操作，以及提交的时候创建资源，然后再通过helm打包其他要用到的资源一起发布，这样用户可以直接用helm部署")])])}),[],!1,null,null,null);t.default=e.exports}}]);