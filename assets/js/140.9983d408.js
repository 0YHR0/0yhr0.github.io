(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{539:function(t,a,r){"use strict";r.r(a);var s=r(2),e=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"k8s-安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s-安全"}},[t._v("#")]),t._v(" K8s 安全")]),t._v(" "),a("h1",{attrs:{id:"集群准入机制详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群准入机制详解"}},[t._v("#")]),t._v(" 集群准入机制详解")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215451781.png",alt:"image-20241025215451781"}})]),t._v(" "),a("h2",{attrs:{id:"k8s-api-访问控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s-api-访问控制"}},[t._v("#")]),t._v(" K8s API 访问控制")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215514327.png",alt:"image-20241025215514327"}})]),t._v(" "),a("ul",[a("li",[t._v("分为认证，鉴权，控制三部分")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/Knative-%E8%B1%86%E5%8C%85%20(2).png",alt:"Knative-豆包 (2)"}}),t._v(" "),a("h3",{attrs:{id:"控制-admission-controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制-admission-controller"}},[t._v("#")]),t._v(" 控制（Admission controller）")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215648345.png",alt:"image-20241025215648345"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215705279.png",alt:"image-20241025215705279"}})]),t._v(" "),a("h3",{attrs:{id:"认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#认证"}},[t._v("#")]),t._v(" 认证")]),t._v(" "),a("ul",[a("li",[t._v("拿到什么证书的用户，就可以以什么样的身份访问k8s\n"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215717115.png",alt:"image-20241025215717115"}})]),t._v(" "),a("li",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215734458.png",alt:"image-20241025215734458"}})])]),t._v(" "),a("h4",{attrs:{id:"service-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-account"}},[t._v("#")]),t._v(" service account")]),t._v(" "),a("ul",[a("li",[t._v("在 Kubernetes（K8s）中，Service Account（服务账户）是一种用于为运行在集群中的进程（通常是 Pod 中的容器）提供身份标识的账户。它类似于传统操作系统中的用户账户，但专门用于在 K8s 环境中进行身份验证和授权。\n"),a("ul",[a("li",[t._v("访问 Kubernetes API：\n服务账户的主要用途之一是允许 Pod 中的容器以安全的方式访问 Kubernetes API。例如，一个监控工具以 Pod 的形式运行在 K8s 集群中，它需要访问 Kubernetes API 来获取集群中各个资源（如节点状态、Pod 状态等）的信息。通过使用服务账户，这个监控工具可以进行身份验证并获得授权，以合法地获取所需的数据。")]),t._v(" "),a("li",[t._v("与其他资源交互：\n除了访问 Kubernetes API，服务账户还可以用于与其他 K8s 资源进行交互。例如，在使用存储卷（Volume）时，某些存储提供商会要求进行身份验证。服务账户可以作为一种身份凭证，使 Pod 能够以授权的方式挂载和使用存储资源。")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215751119.png",alt:"image-20241025215751119"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215757978.png",alt:"image-20241025215757978"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215808852.png",alt:"image-20241025215808852"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215818845.png",alt:"image-20241025215818845"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215834903.png",alt:"image-20241025215834903"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215842528.png",alt:"image-20241025215842528"}})]),t._v(" "),a("h3",{attrs:{id:"鉴权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#鉴权"}},[t._v("#")]),t._v(" 鉴权")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215852727.png",alt:"image-20241025215852727"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215901931.png",alt:"image-20241025215901931"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215915209.png",alt:"image-20241025215915209"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215927653.png",alt:"image-20241025215927653"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215941770.png",alt:"image-20241025215941770"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025215948996.png",alt:"image-20241025215948996"}})]),t._v(" "),a("h1",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("ul",[a("li",[t._v("总结：比如我要创建一个deployment，那么我在其中的pod template中可以绑定一个service account，其中service account又可以通过多个role binding或者cluster role binding和多个 role绑定，其中每个role指定了对k8s中各种资源的操作权限。\n"),a("img",{attrs:{src:"https://markdown-1301334775.cos.eu-frankfurt.myqcloud.com/image-20241025220002612.png",alt:"image-20241025220002612"}})])])])}),[],!1,null,null,null);a.default=e.exports}}]);